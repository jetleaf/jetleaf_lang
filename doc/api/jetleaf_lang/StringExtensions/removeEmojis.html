<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the removeEmojis method from the StringExtensions extension, for the Dart programming language.">
  <title>removeEmojis method - StringExtensions extension - jetleaf_lang library - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="../../static-assets/github.css?v1">
  <link rel="stylesheet" href="../../static-assets/styles.css?v1">
  <link rel="icon" href="../../static-assets/favicon.png?v1">
  
</head>

<body data-base-href="../../" data-using-base-href="false" class="light-theme">
<div id="overlay-under-drawer"></div>
<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../../index.html">jetleaf_lang</a></li>
    <li><a href="../../jetleaf_lang/">jetleaf_lang.dart</a></li>
    <li><a href="../../jetleaf_lang/StringExtensions.html">StringExtensions</a></li>
    <li class="self-crumb">removeEmojis method</li>
  </ol>
  <div class="self-name">removeEmojis</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <button class="toggle" id="theme-button" title="Toggle between light and dark mode" aria-label="Light and dark mode toggle">
    <span id="dark-theme-button" class="material-symbols-outlined" aria-hidden="true">
      dark_mode
    </span>
    <span id="light-theme-button" class="material-symbols-outlined" aria-hidden="true">
      light_mode
    </span>
  </button>
</header>
<main>
<div
    id="dartdoc-main-content"
    class="main-content"
    data-above-sidebar="jetleaf_lang&#47;StringExtensions-extension-sidebar.html"
    data-below-sidebar="">
    <div>
<h1><span class="kind-method">removeEmojis</span> method 
</h1></div>

    <section class="multi-line-signature">
      
<span class="returntype"><a href="https://api.dart.dev/stable/3.9.2/dart-core/String-class.html">String</a></span>
<span class="name ">removeEmojis</span>(<wbr>{<ol class="parameter-list"> <li><span class="parameter" id="removeEmojis-param-collapseSpaces"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.9.2/dart-core/bool-class.html">bool</a></span> <span class="parameter-name">collapseSpaces</span> = <span class="default-value">true</span>, </span></li>
<li><span class="parameter" id="removeEmojis-param-replacement"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.9.2/dart-core/String-class.html">String</a></span> <span class="parameter-name">replacement</span> = <span class="default-value">&#39;&#39;</span>, </span></li>
<li><span class="parameter" id="removeEmojis-param-regex"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.9.2/dart-core/RegExp-class.html">RegExp</a>?</span> <span class="parameter-name">regex</span>, </span></li>
</ol>})

      

    </section>
    
<section class="desc markdown">
  <p>Returns a new string with all emojis removed, including any
<strong>leading or trailing whitespace</strong> around the emojis, to avoid
leftover gaps in the text.</p>
<p>Example:</p>
<pre class="language-dart"><code class="language-dart">final text = "I ‚ù§Ô∏è Dart üåü";
print(text.removeEmojis); // "I Dart"
</code></pre>
<p>Remove emojis while preserving layout and box-drawing characters.</p>
<p>Options:</p>
<ul>
<li><code>collapseSpaces</code> (default true): collapse runs of 2+ whitespace into a single space (but preserve leading indentation).</li>
<li><code>replacement</code> (default ''): replace emojis with this string instead of removing. If you want fixed width marker, set e.g. '‚ç∞'.</li>
</ul>
<p>Behavior details:</p>
<ul>
<li>Operates per-line (split on <code>\n</code>) so box drawing lines are preserved.</li>
<li>Preserves leading whitespace (indentation) for each line.</li>
<li>Trims trailing whitespace from each line (to avoid visible gaps).</li>
<li>Collapses multiple internal spaces to a single space (configurable).</li>
</ul>
</section>


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">String removeEmojis({bool collapseSpaces = true, String replacement = &#39;&#39;, RegExp? regex}) {
  final emojiRegex = regex ?? RegexUtils.targetedEmoji;
  if (!emojiRegex.hasMatch(this)) return this;

  final lines = split(&#39;\n&#39;);
  final buffer = StringBuffer();

  for (var i = 0; i &lt; lines.length; i++) {
    var line = lines[i];

    &#47;&#47; 1) Replace emoji sequences with replacement
    var replaced = line.replaceAll(emojiRegex, replacement);

    &#47;&#47; 2) Trim trailing whitespace (we don&#39;t want trailing gaps)
    replaced = replaced.replaceFirst(RegExp(r&#39;\s+$&#39;), &#39;&#39;);

    &#47;&#47; 3) Detect a prefix to preserve:
    &#47;&#47;    If the line begins with a non-alphanumeric &quot;prefix&quot; (common in boxed logs),
    &#47;&#47;    preserve up to and including the first whitespace after that prefix.
    &#47;&#47;    Examples preserved: &quot;‚îÇ &quot;, &quot;‚îå‚îÄ‚îÄ &quot;, &quot;&gt; &quot;, &quot;- &quot;
    final prefixMatch = RegExp(r&#39;^([^A-Za-z0-9][^\S\r\n]*[^A-Za-z0-9]?[\s])&#39;).firstMatch(replaced);
    String prefix = &#39;&#39;;
    String core = replaced;
    if (prefixMatch != null) {
      prefix = prefixMatch.group(0) ?? &#39;&#39;;
      core = replaced.substring(prefix.length);
    } else {
      &#47;&#47; Fall back: preserve leading whitespace (indentation)
      final leadingWs = RegExp(r&#39;^\s*&#39;).firstMatch(replaced)?.group(0) ?? &#39;&#39;;
      prefix = leadingWs;
      core = replaced.substring(prefix.length);
    }

    &#47;&#47; 4) Collapse internal multiple spaces if requested
    final coreCollapsed = collapseSpaces ? core.replaceAll(RegExp(r&#39;\s{2,}&#39;), &#39; &#39;) : core;

    &#47;&#47; 5) Reattach prefix and write line
    buffer.writeln(prefix + coreCollapsed);
  }

  &#47;&#47; Trim final newline added by writeln to match original line count
  var result = buffer.toString();
  if (result.endsWith(&#39;\n&#39;)) result = result.substring(0, result.length - 1);
  return result;
}</code></pre>
</section>


  </div> <!-- /.main-content -->
  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
<header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>
<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
    <li><a href="../../index.html">jetleaf_lang</a></li>
    <li><a href="../../jetleaf_lang/">jetleaf_lang</a></li>
    <li><a href="../../jetleaf_lang/StringExtensions.html">StringExtensions</a></li>
    <li class="self-crumb">removeEmojis method</li>
</ol>

    <h5>StringExtensions extension on <a href="https://api.dart.dev/stable/3.9.2/dart-core/String-class.html">String</a></h5>
    <div id="dartdoc-sidebar-left-content"></div>
  </div><!--/.sidebar-offcanvas-->
  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
</div><!--/.sidebar-offcanvas-->
</main>
<footer>
  <span class="no-break">
    jetleaf_lang
      1.1.1
  </span>
  
</footer>


<script src="../../static-assets/highlight.pack.js?v1"></script>
<script src="../../static-assets/docs.dart.js"></script>

</body>
</html>

